<html>
	<head>
		<link rel="stylesheet" href="form.css" />
	</head>
	<body onload="init()">
		<h1 id="demo"></h1>
		<form>
			<div class="form">
				<h2 class="contactme">Contact Me</h2>
				<hr />
				<div class="name">
					<label class="namea" for="name">Name:</label>
					<input
						class="nameb"
						type="text"
						id="namestore"
						name="user_name"
						placeholder="John Doe"
					/>
				</div>
				<div class="skill">
					<label class="skilla" for="Skill">Skill:</label>
					<input
						class="skillb"
						type="text"
						id="skillstore"
						name="my_skill"
						placeholder="coding"
					/>
				</div>
				<div class="level">
					<label class="levela" for="Level">Level:</label>
					<!-- <input class="levelb" type="text" name="my_level" placeholder="pro"></input> -->
					<select class="dropdown" name="level" id="levelstore">
						<option value="Pro">Pro</option>
						<option value="Intermediate">Intermediate</option>
						<option value="Noob">Noob</option>
					</select>
				</div>
				<button class="button" onclick="store() ; return false;">
					Submit
				</button>
			</div>
		</form>
		<div>
			<table style="width:60%" id="displaytable">
				<tr>
					<th>Name</th>
					<th>Skill</th>
					<th>Level</th>
				</tr>
			</table>
		</div>
		<script>
			var name, skill, level;
			function init() {
				if (localStorage.record) {
					dataarray = JSON.parse(localStorage.record);
					for (var i = 0; i < dataarray.length; i++) {
						name = dataarray[i].name;
						skill = dataarray[i].skill; //here at start of function i have not declared var dataarray then how it works here.
						level = dataarray[i].level;
						preparetable();
					}
				}
			}

			var dataarray = [];
			var dataObj;
			function store() {
				name = document.getElementById("namestore").value;
				skill = document.getElementById("skillstore").value;
				level = document.getElementById("levelstore").value;
				dataObj = {
					name: name,
					skill: skill,
					level: level
				};
				if (name == "" || skill == "") {
					alert("Please give correct input");
				} else {
					dataarray.push(dataObj);
					//localStorage.setItem("data", JSON.stringify(dataarray));
					localStorage.record = JSON.stringify(dataarray);
					preparetable();
				}
			}
			function preparetable() {
				var table = document.getElementById("displaytable");
				var row = table.insertRow(-1);
				var cell1 = row.insertCell(0);
				var cell2 = row.insertCell(1);
				var cell3 = row.insertCell(2);
				cell1.innerHTML = name;
				cell2.innerHTML = skill;
				cell3.innerHTML = level;
			}
		</script>
	</body>
</html>
